"use strict";(self.webpackChunkthincode=self.webpackChunkthincode||[]).push([[317],{9317:(A,C,u)=>{u.d(C,{_U:()=>L,yy:()=>s});var e=u(2560),p=u(4666),f=u(2508);function O(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",11)(1,"input",12),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.available.picker=r)})("ngModelChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onFilter(r.available))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.available.picker)}}const m=function(o,i){return{selected:o,disabled:i}};function M(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",13),e.NdJ("click",function(r){const l=e.CHM(t),a=l.$implicit,d=l.index,c=e.oxw();return c.disabled||c.selectItem(c.available.pick,a),e.KtG(c.shiftClick(r,d,c.available,a))})("dragstart",function(r){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.drag(r,a,d.available))})("dragend",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragEnd(r.available))}),e.TgZ(1,"label"),e._uU(2),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.WLB(3,m,n.isItemSelected(n.available.pick,t),n.disabled))("draggable",!n.disabled&&n.format.draggable),e.xp6(2),e.Oqu(t._name)}}function x(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"form",11)(1,"input",14),e.NdJ("ngModelChange",function(r){e.CHM(t);const l=e.oxw();return e.KtG(l.confirmed.picker=r)})("ngModelChange",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.onFilter(r.confirmed))}),e.qZA()()}if(2&o){const t=e.oxw();e.xp6(1),e.Q6J("ngModel",t.confirmed.picker)}}function y(o,i){if(1&o){const t=e.EpF();e.TgZ(0,"li",13,15),e.NdJ("click",function(r){const l=e.CHM(t),a=l.$implicit,d=l.index,c=e.oxw();return c.disabled||c.selectItem(c.confirmed.pick,a),e.KtG(c.shiftClick(r,d,c.confirmed,a))})("dragstart",function(r){const a=e.CHM(t).$implicit,d=e.oxw();return e.KtG(d.drag(r,a,d.confirmed))})("dragend",function(){e.CHM(t);const r=e.oxw();return e.KtG(r.dragEnd(r.confirmed))}),e.TgZ(2,"label"),e._uU(3),e.qZA()()}if(2&o){const t=i.$implicit,n=e.oxw();e.Q6J("ngClass",e.WLB(3,m,n.isItemSelected(n.confirmed.pick,t),n.disabled))("draggable",!n.disabled&&n.format.draggable),e.xp6(3),e.Oqu(t._name)}}const b=function(o,i){return{order:o,"margin-left":i}},k=function(o,i){return{"max-height":o,"min-height":i}},v=function(o){return{over:o}};class _{constructor(i){this._name=i,this.last=null,this.picker="",this.dragStart=!1,this.dragOver=!1,this.pick=[],this.list=[],this.sift=[]}get name(){return this._name}}var T=0;class s{constructor(i){this.differs=i,this.id="dual-list-"+T++,this.key="_id",this.display="_name",this.height="100px",this.filter=!1,this.format=s.DEFAULT_FORMAT,this.sort=!1,this.disabled=!1,this.destinationChange=new e.vpe,this.sorter=(t,n)=>t._name<n._name?-1:t._name>n._name?1:0,this.available=new _(s.AVAILABLE_LIST_NAME),this.confirmed=new _(s.CONFIRMED_LIST_NAME)}ngOnChanges(i){i.filter&&!1===i.filter.currentValue&&(this.clearFilter(this.available),this.clearFilter(this.confirmed)),i.sort&&(!0===i.sort.currentValue&&void 0===this.compare?this.compare=this.sorter:!1===i.sort.currentValue&&(this.compare=void 0)),i.format&&(this.format=i.format.currentValue,typeof this.format.direction>"u"&&(this.format.direction=s.LTR),typeof this.format.add>"u"&&(this.format.add=s.DEFAULT_FORMAT.add),typeof this.format.remove>"u"&&(this.format.remove=s.DEFAULT_FORMAT.remove),typeof this.format.all>"u"&&(this.format.all=s.DEFAULT_FORMAT.all),typeof this.format.none>"u"&&(this.format.none=s.DEFAULT_FORMAT.none),typeof this.format.draggable>"u"&&(this.format.draggable=s.DEFAULT_FORMAT.draggable)),i.source&&(this.available=new _(s.AVAILABLE_LIST_NAME),this.updatedSource(),this.updatedDestination()),i.destination&&(this.confirmed=new _(s.CONFIRMED_LIST_NAME),this.updatedDestination(),this.updatedSource())}ngDoCheck(){this.source&&this.buildAvailable(this.source)&&this.onFilter(this.available),this.destination&&this.buildConfirmed(this.destination)&&this.onFilter(this.confirmed)}buildAvailable(i){const t=this.sourceDiffer.diff(i);return!!t&&(t.forEachRemovedItem(n=>{const r=this.findItemIndex(this.available.list,n.item,this.key);-1!==r&&this.available.list.splice(r,1)}),t.forEachAddedItem(n=>{-1===this.findItemIndex(this.available.list,n.item,this.key)&&this.available.list.push({_id:this.makeId(n.item),_name:this.makeName(n.item)})}),void 0!==this.compare&&this.available.list.sort(this.compare),this.available.sift=this.available.list,!0)}buildConfirmed(i){let t=!1;const n=this.destinationDiffer.diff(i);return!!n&&(n.forEachRemovedItem(r=>{const l=this.findItemIndex(this.confirmed.list,r.item,this.key);-1!==l&&(this.isItemSelected(this.confirmed.pick,this.confirmed.list[l])||this.selectItem(this.confirmed.pick,this.confirmed.list[l]),this.moveItem(this.confirmed,this.available,this.confirmed.list[l],!1),t=!0)}),n.forEachAddedItem(r=>{const l=this.findItemIndex(this.available.list,r.item,this.key);-1!==l&&(this.isItemSelected(this.available.pick,this.available.list[l])||this.selectItem(this.available.pick,this.available.list[l]),this.moveItem(this.available,this.confirmed,this.available.list[l],!1),t=!0)}),void 0!==this.compare&&this.confirmed.list.sort(this.compare),this.confirmed.sift=this.confirmed.list,t&&this.trueUp(),!0)}updatedSource(){this.available.list.length=0,this.available.pick.length=0,void 0!==this.source&&(this.sourceDiffer=this.differs.find(this.source).create(null))}updatedDestination(){void 0!==this.destination&&(this.destinationDiffer=this.differs.find(this.destination).create(null))}direction(){return this.format.direction===s.LTR}dragEnd(i=null){return i?i.dragStart=!1:(this.available.dragStart=!1,this.confirmed.dragStart=!1),!1}drag(i,t,n){this.isItemSelected(n.pick,t)||this.selectItem(n.pick,t),n.dragStart=!0,i.dataTransfer.setData(this.id,t._id)}allowDrop(i,t){return i.dataTransfer.types.length&&i.dataTransfer.types[0]===this.id&&(i.preventDefault(),t.dragStart||(t.dragOver=!0)),!1}dragLeave(){this.available.dragOver=!1,this.confirmed.dragOver=!1}drop(i,t){i.dataTransfer.types.length&&i.dataTransfer.types[0]===this.id&&(i.preventDefault(),this.dragLeave(),this.dragEnd(),t===this.available?this.moveItem(this.available,this.confirmed):this.moveItem(this.confirmed,this.available))}trueUp(){let i=!1,t=this.destination.length;for(;(t-=1)>=0;)0===this.confirmed.list.filter(r=>"object"==typeof this.destination[t]?r._id===this.destination[t][this.key]:r._id===this.destination[t]).length&&(this.destination.splice(t,1),i=!0);for(let n=0,r=this.confirmed.list.length;n<r;n+=1){let l=this.destination.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[n]._id:a===this.confirmed.list[n]._id);0===l.length&&(l=this.source.filter(a=>"object"==typeof a?a[this.key]===this.confirmed.list[n]._id:a===this.confirmed.list[n]._id),l.length>0&&(this.destination.push(l[0]),i=!0))}i&&this.destinationChange.emit(this.destination)}findItemIndex(i,t,n="_id"){let r=-1;return i.filter("object"==typeof t?function l(d){return d._id===t[n]&&(r=i.indexOf(d),!0)}:function a(d){return d._id===t&&(r=i.indexOf(d),!0)}),r}makeUnavailable(i,t){const n=i.list.indexOf(t);-1!==n&&i.list.splice(n,1)}moveItem(i,t,n=null,r=!0){let l=0,a=i.pick.length;for(n&&(l=i.list.indexOf(n),a=l+1);l<a;l+=1){let d=[];if(n){const c=this.findItemIndex(i.pick,n);-1!==c&&(d[0]=i.pick[c])}else d=i.list.filter(c=>c._id===i.pick[l]._id);1===d.length&&(0===t.list.filter(c=>c._id===d[0]._id).length&&t.list.push(d[0]),this.makeUnavailable(i,d[0]))}void 0!==this.compare&&t.list.sort(this.compare),i.pick.length=0,r&&this.trueUp(),setTimeout(()=>{this.onFilter(i),this.onFilter(t)},10)}isItemSelected(i,t){return i.filter(n=>Object.is(n,t)).length>0}shiftClick(i,t,n,r){if(i.shiftKey&&n.last&&!Object.is(r,n.last)){const l=n.sift.indexOf(n.last);if(t>l)for(let a=l+1;a<t;a+=1)this.selectItem(n.pick,n.sift[a]);else if(-1!==l)for(let a=t+1;a<l;a+=1)this.selectItem(n.pick,n.sift[a])}n.last=r}selectItem(i,t){const n=i.filter(r=>Object.is(r,t));if(n.length>0)for(let r=0,l=n.length;r<l;r+=1){const a=i.indexOf(n[r]);-1!==a&&i.splice(a,1)}else i.push(t)}selectAll(i){i.pick.length=0,i.pick=i.sift.slice(0)}selectNone(i){i.pick.length=0}isAllSelected(i){return 0===i.list.length||i.list.length===i.pick.length}isAnySelected(i){return i.pick.length>0}unpick(i){for(let t=i.pick.length-1;t>=0;t-=1)-1===i.sift.indexOf(i.pick[t])&&i.pick.splice(t,1)}clearFilter(i){i&&(i.picker="",this.onFilter(i))}onFilter(i){if(i.picker.length>0)try{const t=i.list.filter(n=>"[object Object]"===Object.prototype.toString.call(n)?void 0!==n._name?-1!==n._name.toLocaleLowerCase(this.format.locale).indexOf(i.picker.toLocaleLowerCase(this.format.locale)):-1!==JSON.stringify(n).toLocaleLowerCase(this.format.locale).indexOf(i.picker.toLocaleLowerCase(this.format.locale)):-1!==n.toLocaleLowerCase(this.format.locale).indexOf(i.picker.toLocaleLowerCase(this.format.locale)));i.sift=t,this.unpick(i)}catch(t){t instanceof RangeError&&(this.format.locale=void 0),i.sift=i.list}else i.sift=i.list}makeId(i){return"object"==typeof i?i[this.key]:i}makeName(i,t="_"){const n=this.display;function r(a){switch(Object.prototype.toString.call(a)){case"[object Number]":case"[object String]":return a;default:return void 0!==a?a[n]:"undefined"}}let l="";if(void 0!==this.display)switch(Object.prototype.toString.call(this.display)){case"[object Function]":l=this.display(i);break;case"[object Array]":for(let a=0,d=this.display.length;a<d;a+=1)if(l.length>0&&(l+=t),-1===this.display[a].indexOf("."))l+=i[this.display[a]];else{const c=this.display[a].split("."),h=i[c[0]];if(h)if(-1!==c[1].indexOf("substring")){const g=c[1].substring(c[1].indexOf("(")+1,c[1].indexOf(")")).split(",");switch(g.length){case 1:l+=h.substring(parseInt(g[0],10));break;case 2:l+=h.substring(parseInt(g[0],10),parseInt(g[1],10));break;default:l+=h}}else l+=h}break;default:l=r(i)}else l=r(i);return l}}s.AVAILABLE_LIST_NAME="available",s.CONFIRMED_LIST_NAME="confirmed",s.LTR="left-to-right",s.RTL="right-to-left",s.DEFAULT_FORMAT={add:"Add",remove:"Remove",all:"All",none:"None",direction:s.LTR,draggable:!0,locale:void 0},s.\u0275fac=function(i){return new(i||s)(e.Y36(e.ZZ4))},s.\u0275cmp=e.Xpm({type:s,selectors:[["dual-list"]],inputs:{id:"id",key:"key",display:"display",height:"height",filter:"filter",format:"format",sort:"sort",compare:"compare",disabled:"disabled",source:"source",destination:"destination"},outputs:{destinationChange:"destinationChange"},features:[e.TTD],decls:25,vars:40,consts:[[1,"dual-list"],[1,"listbox",3,"ngStyle"],["type","button","name","addBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],["class","filter",4,"ngIf"],[1,"record-picker"],[3,"ngStyle","ngClass","drop","dragover","dragleave"],[3,"ngClass","draggable","click","dragstart","dragend",4,"ngFor","ngForOf"],[1,"button-bar"],["type","button",1,"btn","btn-primary","pull-left",3,"disabled","click"],["type","button",1,"btn","btn-default","pull-right",3,"disabled","click"],["type","button","name","removeBtn",1,"btn","btn-primary","btn-block",3,"ngClass","disabled","click"],[1,"filter"],["name","filterSource",1,"form-control",3,"ngModel","ngModelChange"],[3,"ngClass","draggable","click","dragstart","dragend"],["name","filterDestination",1,"form-control",3,"ngModel","ngModelChange"],["itmConf",""]],template:function(i,t){1&i&&(e.TgZ(0,"div",0)(1,"div",1)(2,"button",2),e.NdJ("click",function(){return t.moveItem(t.available,t.confirmed)}),e._uU(3),e.qZA(),e.YNc(4,O,2,1,"form",3),e.TgZ(5,"div",4)(6,"ul",5),e.NdJ("drop",function(r){return t.drop(r,t.confirmed)})("dragover",function(r){return t.allowDrop(r,t.available)})("dragleave",function(){return t.dragLeave()}),e.YNc(7,M,3,6,"li",6),e.qZA()(),e.TgZ(8,"div",7)(9,"button",8),e.NdJ("click",function(){return t.selectAll(t.available)}),e._uU(10),e.qZA(),e.TgZ(11,"button",9),e.NdJ("click",function(){return t.selectNone(t.available)}),e._uU(12),e.qZA()()(),e.TgZ(13,"div",1)(14,"button",10),e.NdJ("click",function(){return t.moveItem(t.confirmed,t.available)}),e._uU(15),e.qZA(),e.YNc(16,x,2,1,"form",3),e.TgZ(17,"div",4)(18,"ul",5),e.NdJ("drop",function(r){return t.drop(r,t.available)})("dragover",function(r){return t.allowDrop(r,t.confirmed)})("dragleave",function(){return t.dragLeave()}),e.YNc(19,y,4,6,"li",6),e.qZA()(),e.TgZ(20,"div",7)(21,"button",8),e.NdJ("click",function(){return t.selectAll(t.confirmed)}),e._uU(22),e.qZA(),e.TgZ(23,"button",9),e.NdJ("click",function(){return t.selectNone(t.confirmed)}),e._uU(24),e.qZA()()()()),2&i&&(e.xp6(1),e.Q6J("ngStyle",e.WLB(24,b,t.direction()?1:2,t.direction()?0:"10px")),e.xp6(1),e.Q6J("ngClass",t.direction()?"point-right":"point-left")("disabled",0===t.available.pick.length),e.xp6(1),e.Oqu(t.format.add),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngStyle",e.WLB(27,k,t.height,t.height))("ngClass",e.VKq(30,v,t.available.dragOver)),e.xp6(1),e.Q6J("ngForOf",t.available.sift),e.xp6(2),e.Q6J("disabled",t.disabled||t.isAllSelected(t.available)),e.xp6(1),e.Oqu(t.format.all),e.xp6(1),e.Q6J("disabled",!t.isAnySelected(t.available)),e.xp6(1),e.Oqu(t.format.none),e.xp6(1),e.Q6J("ngStyle",e.WLB(32,b,t.direction()?2:1,t.direction()?"10px":0)),e.xp6(1),e.Q6J("ngClass",t.direction()?"point-left":"point-right")("disabled",0===t.confirmed.pick.length),e.xp6(1),e.Oqu(t.format.remove),e.xp6(1),e.Q6J("ngIf",t.filter),e.xp6(2),e.Q6J("ngStyle",e.WLB(35,k,t.height,t.height))("ngClass",e.VKq(38,v,t.confirmed.dragOver)),e.xp6(1),e.Q6J("ngForOf",t.confirmed.sift),e.xp6(2),e.Q6J("disabled",t.disabled||t.isAllSelected(t.confirmed)),e.xp6(1),e.Oqu(t.format.all),e.xp6(1),e.Q6J("disabled",!t.isAnySelected(t.confirmed)),e.xp6(1),e.Oqu(t.format.none))},dependencies:[p.mk,p.sg,p.O5,p.PC,f._Y,f.Fj,f.JJ,f.JL,f.On,f.F],styles:['div.record-picker[_ngcontent-%COMP%]{overflow-x:hidden;overflow-y:auto;border:1px solid #ddd;border-radius:8px;position:relative;cursor:pointer}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar{width:12px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-button{width:0px;height:0px}div.record-picker[_ngcontent-%COMP%]{scrollbar-base-color:#337ab7;scrollbar-3dlight-color:#337ab7;scrollbar-highlight-color:#337ab7;scrollbar-track-color:#eee;scrollbar-arrow-color:gray;scrollbar-shadow-color:gray;scrollbar-dark-shadow-color:gray}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-track{background:#eee;box-shadow:0 0 3px #dfdfdf inset;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb{background:#337ab7;border:thin solid gray;border-top-right-radius:8px;border-bottom-right-radius:8px}div.record-picker[_ngcontent-%COMP%]::-webkit-scrollbar-thumb:hover{background:#286090}.record-picker[_ngcontent-%COMP%]   ul[_ngcontent-%COMP%]{margin:0;padding:0 0 1px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]{border-top:thin solid #ddd;border-bottom:1px solid #ddd;display:block;padding:2px 2px 2px 10px;margin-bottom:-1px;font-size:.85em;cursor:pointer;white-space:nowrap;min-height:16px}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:hover{background-color:#f5f5f5}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]{background-color:#d9edf7}.record-picker[_ngcontent-%COMP%]   li.selected[_ngcontent-%COMP%]:hover{background-color:#c4e3f3}.record-picker[_ngcontent-%COMP%]   li.disabled[_ngcontent-%COMP%]{opacity:.5;cursor:default;background-color:inherit}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:first-child{border-top-left-radius:8px;border-top-right-radius:8px;border-top:none}.record-picker[_ngcontent-%COMP%]   li[_ngcontent-%COMP%]:last-child{border-bottom-left-radius:8px;border-bottom-right-radius:8px;border-bottom:none}.record-picker[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{cursor:pointer;font-weight:inherit;font-size:14px;padding:4px;margin-bottom:-1px;-webkit-touch-callout:none;-webkit-user-select:none;-moz-user-select:none;user-select:none}.record-picker[_ngcontent-%COMP%]   ul.over[_ngcontent-%COMP%]{background-color:#d3d3d3}.dual-list[_ngcontent-%COMP%]{display:flex;flex-direction:row;align-content:flex-start}.dual-list[_ngcontent-%COMP%]   .listbox[_ngcontent-%COMP%]{width:50%;margin:0}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]{margin-top:8px}.point-right[_ngcontent-%COMP%]:after{content:"\\25b6";padding-left:1em}.point-left[_ngcontent-%COMP%]:before{content:"\\25c0";padding-right:1em}.dual-list[_ngcontent-%COMP%]   .button-bar[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:47%}button.btn-block[_ngcontent-%COMP%]{display:block;width:100%;margin-bottom:8px}.filter[_ngcontent-%COMP%]{margin-bottom:-2.2em}.filter[_ngcontent-%COMP%]:after{content:"o";width:40px;color:transparent;font-size:2em;background-image:url(\'data:image/svg+xml;utf8,<svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 512 512"><path d="M0 64l192 192v192l128-32V256L512 64H0z"/></svg>\');background-repeat:no-repeat;background-position:center center;opacity:.2;top:-36px;left:calc(100% - 21px);position:relative}']});let L=(()=>{class o{}return o.\u0275fac=function(t){return new(t||o)},o.\u0275mod=e.oAB({type:o}),o.\u0275inj=e.cJS({imports:[p.ez,f.u5]}),o})()}}]);
//# sourceMappingURL=317.js.map